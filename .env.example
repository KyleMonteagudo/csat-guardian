# =============================================================================
# CSAT Guardian - Environment Configuration
# =============================================================================
# This file shows all available configuration options.
#
# FOR LOCAL DEVELOPMENT:
#   Copy this file to .env.local and fill in your values.
#   .env.local is gitignored and will never be committed.
#
# FOR PRODUCTION:
#   Secrets are stored in Azure Key Vault and loaded automatically.
#   Only non-secret configuration (feature flags, etc.) are set here.
#
# NEVER commit secrets to source control!
# =============================================================================

# -----------------------------------------------------------------------------
# Azure Key Vault Configuration (PRODUCTION)
# -----------------------------------------------------------------------------
# When running in Azure, set this to load secrets from Key Vault.
# The application will use Managed Identity to authenticate.

# Azure Key Vault URL
# Example: https://kv-csatguardian-dev.vault.azure.net/
# AZURE_KEY_VAULT_URL=https://kv-csatguardian-dev.vault.azure.net/

# -----------------------------------------------------------------------------
# Azure OpenAI Configuration
# -----------------------------------------------------------------------------
# For local dev: Set these directly
# For production: These are loaded from Key Vault automatically

# The endpoint URL for your Azure OpenAI resource
# Key Vault secret name: AzureOpenAI--Endpoint
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# The API key for authentication
# Key Vault secret name: AzureOpenAI--ApiKey
AZURE_OPENAI_API_KEY=your-api-key-here

# The deployment name for GPT-4o (not a secret)
AZURE_OPENAI_DEPLOYMENT=gpt-4o

# The API version to use (not a secret)
AZURE_OPENAI_API_VERSION=2024-10-21

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# For local dev: Use SQLite with DATABASE_PATH
# For production: Use Azure SQL with connection string from Key Vault

# Path to SQLite database (local development only)
DATABASE_PATH=data/csat_guardian.db

# Azure SQL connection string (production)
# Key Vault secret name: SqlServer--ConnectionString
# Deployed server: sql-csatguardian-dev.database.windows.net
# DATABASE_CONNECTION_STRING=Server=tcp:sql-csatguardian-dev.database.windows.net,1433;...

# -----------------------------------------------------------------------------
# DfM (Dynamics for Microsoft) Configuration - MOCK FOR POC
# -----------------------------------------------------------------------------
# These settings will be used when we have real API access.
# For now, they're placeholders - we use mock data.

# DFM_BASE_URL=https://your-org.crm.dynamics.com
# DFM_TENANT_ID=your-tenant-id
# DFM_CLIENT_ID=your-client-id
# DFM_CLIENT_SECRET=your-client-secret

# -----------------------------------------------------------------------------
# Microsoft Teams Configuration - MOCK FOR POC
# -----------------------------------------------------------------------------
# These settings will be used when we have Teams bot approval.
# For now, notifications go to console/log output.

# TEAMS_WEBHOOK_URL=https://your-org.webhook.office.com/...

# -----------------------------------------------------------------------------
# Application Settings (Not Secrets)
# -----------------------------------------------------------------------------

# Environment identifier
ENVIRONMENT=dev

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=DEBUG

# Enable JSON logging format (for Azure Monitor)
JSON_LOGGING=false

# Scan interval in minutes
SCAN_INTERVAL_MINUTES=15

# -----------------------------------------------------------------------------
# Alert Thresholds (Not Secrets)
# -----------------------------------------------------------------------------

# Sentiment threshold for alerts (0.0 to 1.0, lower = more negative)
NEGATIVE_SENTIMENT_THRESHOLD=0.3

# Hours without response before sending a reminder
NO_RESPONSE_ALERT_HOURS=24

# Days without case notes before warning (7-day compliance)
CASE_UPDATE_WARNING_DAYS=5

# Days without case notes before breach alert
CASE_UPDATE_BREACH_DAYS=7

# -----------------------------------------------------------------------------
# Feature Flags (Not Secrets)
# -----------------------------------------------------------------------------

# Use mock data instead of real DfM API
USE_MOCK_DFM=true

# Use mock Teams notifications (console output)
USE_MOCK_TEAMS=true

# Enable verbose debug logging
VERBOSE_LOGGING=true

# Enable sentiment analysis feature
ENABLE_SENTIMENT_ANALYSIS=true

# Enable 7-day compliance tracking
ENABLE_COMPLIANCE_TRACKING=true
